<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Student Quiz System</title>

<style>
body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, #667eea, #764ba2);
    min-height: 100vh;
    padding: 40px;
}

.container {
    max-width: 700px;
    margin: auto;
    background: white;
    padding: 30px;
    border-radius: 18px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.25);
}

h1, h2 {
    text-align: center;
    color: #333;
}

input, select, button {
    width: 100%;
    padding: 12px;
    margin: 10px 0;
    font-size: 16px;
}
.option {
    display: flex;
    align-items: center;
    gap: 10px;              /* space between circle and text */
    margin: 6px 0;
    cursor: pointer;
}

.option input[type="radio"] {
    margin: 0;              /* removes default misalignment */
    transform: scale(1.2);  /* slightly bigger circle */
}


button {
    background: #667eea;
    color: white;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    transition: 0.3s;
}

button:hover {
    background: #5a67d8;
    transform: scale(1.05);
}

.question {
    margin: 25px 0;
}

.correct {
    color: green;
    font-weight: bold;
}

.wrong {
    color: red;
    font-weight: bold;
}

.hidden {
    display: none;
}

#topInfo {
    display: flex;
    justify-content: space-between;
    font-weight: bold;
    margin-bottom: 10px;
}
</style>
</head>

<body>

<!-- STUDENT INFO SCREEN -->
<div class="container" id="studentScreen">
    <h1>Student Quiz Portal üéì</h1>

    <label>Student Name</label>
    <input type="text" id="name" placeholder="Enter your name">

    <label>Division</label>
    <input type="text" id="div" placeholder="Enter your division">

    <label>Select Subject</label>
    <select id="subject">
        <option value="C">C Programming</option>
        <option value="Java">Java</option>
        <option value="Python">Python</option>
        <option value="DBMS">DBMS</option>
        <option value="CN">Computer Networks</option>
    </select>

    <button onclick="startQuiz()">Start Quiz</button>
</div>

<!-- QUIZ SCREEN -->
<div class="container hidden" id="quizScreen">
    <h2 id="studentInfo"></h2>

    <div id="topInfo">
        <span id="progress"></span>
        <span id="timer"></span>
    </div>

    <div id="quiz"></div>
</div>

<script>
let score = 0;
let time = 90;
let timerInterval;

const questionBank = {
C: [
["Who developed C language?", ["Dennis Ritchie","James Gosling","Guido","Bjarne"], "Dennis Ritchie"],
["Which symbol is used for pointer?", ["*","&","#","@"], "*"],
["Which loop runs at least once?", ["for","while","do-while","if"], "do-while"],
["Header file for printf?", ["stdio.h","conio.h","math.h","string.h"], "stdio.h"],
["Size of int depends on?", ["OS","Compiler","RAM","CPU"], "Compiler"]
],
Java: [
["Java is ___ language.", ["Procedural","Object-Oriented","Assembly","Machine"], "Object-Oriented"],
["Entry point method?", ["start()","run()","main()","init()"], "main()"],
["Keyword for inheritance?", ["extends","implements","super","this"], "extends"],
["JVM stands for?", ["Java Virtual Machine","Java Variable Method","Joint VM","None"], "Java Virtual Machine"],
["Multiple inheritance using?", ["Class","Interface","Object","Package"], "Interface"]
],
Python: [
["Creator of Python?", ["Guido van Rossum","Dennis Ritchie","James Gosling","Elon Musk"], "Guido van Rossum"],
["Comment symbol?", ["//","#","/*","--"], "#"],
["Which is immutable?", ["List","Set","Tuple","Dict"], "Tuple"],
["Function keyword?", ["func","define","def","function"], "def"],
["Python is ___ typed.", ["Static","Dynamic","Weak","None"], "Dynamic"]
],
DBMS: [
["DBMS stands for?", ["Database Management System","Data Backup","Data Mining","None"], "Database Management System"],
["Primary key is?", ["Unique","Nullable","Duplicate","Optional"], "Unique"],
["SQL is used for?", ["Design","Query","Compile","Execute"], "Query"],
["3NF removes?", ["Dependency","Redundancy","Key","Index"], "Redundancy"],
["Command to delete table?", ["DELETE","DROP","REMOVE","CLEAR"], "DROP"]
],
CN: [
["OSI layers count?", ["5","6","7","8"], "7"],
["Routing is done by?", ["Physical","Network","Transport","Session"], "Network"],
["TCP is?", ["Connectionless","Connection-oriented","Fast","Simple"], "Connection-oriented"],
["Email protocol?", ["FTP","SMTP","HTTP","SNMP"], "SMTP"],
["IPv4 address bits?", ["16","32","64","128"], "32"]
]
};

function startQuiz() {
    const name = document.getElementById("name").value;
    const div = document.getElementById("div").value;
    const subject = document.getElementById("subject").value;

    if (!name || !div) {
        alert("Please fill all details");
        return;
    }

    alert(`Welcome ${name}! Best of luck üí™`);

    document.getElementById("studentScreen").classList.add("hidden");
    document.getElementById("quizScreen").classList.remove("hidden");

    document.getElementById("studentInfo").innerText =
        `Name: ${name} | Division: ${div} | Subject: ${subject}`;

    startTimer();
    generateQuiz(subject);
}

function startTimer() {
    document.getElementById("timer").innerText = `Time: ${time}s`;
    timerInterval = setInterval(() => {
        time--;
        document.getElementById("timer").innerText = `Time: ${time}s`;
        if (time === 0) {
            clearInterval(timerInterval);
            finishQuiz();
        }
    }, 1000);
}

function generateQuiz(subject) {
    const quizDiv = document.getElementById("quiz");
    quizDiv.innerHTML = "";

    const questions = questionBank[subject];
    document.getElementById("progress").innerText =
        `Question 1 of ${questions.length}`;

    questions.forEach((q, index) => {
        let html = `<div class="question">
        <p><b>${index+1}. ${q[0]}</b></p>`;

        q[1].forEach(opt => {
            html += `
            <label>
                <input type="radio" name="q${index}" value="${opt}">
                ${opt}
            </label><br>`;
        });

        html += `
        <button onclick="checkAnswer(${index}, '${q[2]}', ${questions.length})">
            Submit
        </button>
        <p id="result${index}"></p>
        </div>`;

        quizDiv.innerHTML += html;
    });
}

function checkAnswer(index, correct, total) {
    const options = document.getElementsByName(`q${index}`);
    let selected = "";

    for (let opt of options) {
        if (opt.checked) selected = opt.value;
        opt.disabled = true;
    }

    const result = document.getElementById(`result${index}`);

    if (!selected) {
        result.textContent = "Please select an option!";
        result.className = "wrong";
        return;
    }

    if (selected === correct) {
        result.textContent = "Correct Answer ‚úÖ";
        result.className = "correct";
        score++;
    } else {
        result.textContent = `Wrong ‚ùå | Correct: ${correct}`;
        result.className = "wrong";
    }

    document.getElementById("progress").innerText =
        `Question ${index+1} of ${total}`;

    if (index === total - 1) {
        setTimeout(finishQuiz, 100);
    }
}

function finishQuiz() {
    clearInterval(timerInterval);
    alert(`Quiz Finished üéâ\nYour Score: ${score}/5`);
}
</script>

</body>
</html>
